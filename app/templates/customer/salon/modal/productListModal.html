<ion-modal-view>
  <ion-nav-button side="left">
    <button class="button button-icon icon ion-android-close" ng-click="vm.cancel();"></button>
    <button class="button button-icon dark icon ion-ios-search pull-right" ng-click="searchPopover.show($event)"></button>
  </ion-nav-button>

  <ion-content class="has-header bg-lightgrey">
    <div class="card hybrid shop" ng-click="vm.confirm(item)"  ng-repeat="item in vm.products | filter: searchFilter track by $index">
      <div class="item item-thumbnail-left item-text-wrap shop">
        <img ng-src="{{item.coverImg}}" >
        <h2 class="text-small lead no-padding no-margin">{{item.name}}</h2>
        <p class="text-small">${{item.price | number: 2}}</p>
        <span class="text-small tags pull-right" ng-if="item.discount ">{{item.discount*100 + '%'}}折扣</span>
        <p class="text-small">{{item.shortDesc}}</p>
        <p class="text-small" ng-if="item.amount">Amount: {{item.amount}}</p>
          <span><img ng-src="{{server.avatar}}" style="width: 20px;border-radius: 50%;margin: 0 2px" ng-repeat="server in item.productServer | limitTo: 5">
          </span>
      </div>
    </div>

    <ion-infinite-scroll ng-if="!noMoreItemsAvailable"
                         immediate-check="false"
                         on-infinite="loadMore()"
                         distance="1%">
    </ion-infinite-scroll>
  </ion-content>

</ion-modal-view>